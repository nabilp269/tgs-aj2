<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PujaBook ‚Äì Pembayaran</title>
<style>
  body { margin:0; font-family:'Inter',sans-serif; background:#F7F7F7; color:#333; }
  header { background:#004E89; color:#fff; padding:15px 20px; display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; z-index:1000; }
  .logo { font-weight:700; font-size:22px; display:flex; align-items:center; gap:8px; }
  nav a { color:#fff; margin-left:20px; text-decoration:none; font-weight:500; }

  section { max-width:800px; margin:auto; padding:50px 20px; }

  h1 { text-align:center; color:#004E89; font-family:'Poppins',sans-serif; margin-bottom:40px; }

  .payment-card { background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.1); margin-bottom:20px; }

  ul { list-style:none; padding:0; margin:0; }
  li { padding:8px 0; border-bottom:1px solid #eee; font-size:14px; }

  .total { font-weight:700; font-size:18px; margin-top:10px; text-align:right; }

  label { display:block; margin:10px 0 5px; font-weight:500; }
  select { width:100%; padding:10px; border-radius:8px; border:1px solid #ccc; }

  .btn { display:inline-block; padding:12px 20px; background:#FF6B35; color:#fff; border-radius:8px; font-weight:600; margin-top:15px; transition:0.3s; border:none; cursor:pointer; width:100%; font-size:16px; }
  .btn:hover { background:#e85d2d; }
</style>
</head>
<body>

<header>
  <div class="logo">üç¥ PujaBook</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="tenant-list.html">Tenant</a>
    <a href="preorder.html">Pre-Order</a>
    <a href="pembayaran.html">Pembayaran</a>
  </nav>
</header>

<section>
  <h1>Sistem Pembayaran</h1>

  <div class="payment-card">
    <h2>Ringkasan Pre-Order</h2>
    <ul id="orderList"></ul>
    <p class="total" id="totalAmount">Total: Rp 0</p>
  </div>

  <div class="payment-card">
    <label for="paymentMethod">Pilih Metode Pembayaran:</label>
    <select id="paymentMethod">
      <option value="cash">Cash / Tunai</option>
      <option value="transfer">Transfer Bank</option>
      <option value="ewallet">E-Wallet (OVO / GoPay / Dana)</option>
    </select>
    <button class="btn" id="payBtn">Konfirmasi Pembayaran</button>
  </div>
</section>

<script>
  const orderList = document.getElementById('orderList');
  const totalAmount = document.getElementById('totalAmount');
  const payBtn = document.getElementById('payBtn');

  let orders = JSON.parse(localStorage.getItem('preOrder')) || [];

  function renderOrders(){
    orderList.innerHTML = '';
    let total = 0;
    orders.forEach(item => {
      const li = document.createElement('li');
      li.textContent = `${item.name} x ${item.qty} = Rp ${item.price*item.qty}`;
      orderList.appendChild(li);
      total += item.price*item.qty;
    });
    totalAmount.textContent = `Total: Rp ${total}`;
  }

  renderOrders();

  payBtn.addEventListener('click', () => {
    const method = document.getElementById('paymentMethod').value;
    if(orders.length === 0){
      alert('Tidak ada item untuk dibayar!');
      return;
    }
    // Simpan info pembayaran
    const paymentData = {
      orders: orders,
      total: orders.reduce((sum, item)=>sum+item.price*item.qty,0),
      method: method
    };
    localStorage.setItem('paymentData', JSON.stringify(paymentData));
    alert('Pembayaran berhasil! Anda akan diarahkan ke tiket digital.');
    window.location.href = 'konfirmasi.html';
  });
</script>

</body>
</html>
